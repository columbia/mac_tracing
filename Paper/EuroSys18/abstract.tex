MacOS is well known for its user experience.
However, performance bugs still exist, as such, spinning cursors appear from time to time.
Although the reason why it appears is straightforward based on its mechanism that the main UI thread is too busy to process user input, its root cause is still hard to diagnose.
%dependency graph is useful to diagnose performance bugs
Tracking the performance bug where the lagging or unresponsiveness of applications stem, is hard due to the massive interactions among threads.
Without instruments in the source code, it is challenging to detangle the user transactions running concurrently in the system, as well as the background heartbeat threads.
\par
Fortunately, instruments in low level libraries and system could help developers to recognize interactions of threads by generating a dependency graph over the tracing data.
A tracing point records a thread activity which we called event.
It contains the event name and attributes correlated to the event. 
The selected event either represents the execution boundary inside a thread on behalf of particular user input or reflects the potential connections with other events. 
The dependacy graph is dynamically generated with the execution segments divided by the boundary event as nodes and connections as edges.
It is expected to help developers to figure out the critical paths of user transactions and enlight them on the inefficient code causing performance bugs.
%short-commings of dynamic generated dependency graph
\par
However, without the in-depth understanding of a system, especially when it is not open source, the integrity and completeness of the dependency graph is hard to guarantee.
The incorrect graph becomes less useful, even misleading, for the developers.
%how to address
In this paper, we focus on Apple's MacOS and address the challenge by inspecting the over connections and under connections in the dependency graph.
The recognized wrong connection will give the developers guidance to further explore special programming paradigms in a less familiar system from various levels, including libraries, frameworks in the middleware and kernel.
By adding tracing points in the proper location to indicates boundaries and connections inside the programming paradigms, the dependency graph get improved cumulatively on correctness and hence usefulness in performance bug diagnosis.
