\subsection{Sequel Pro}

Sequel Pro is a fast, easy-to-use Mac database management application for
working with MySQL databases. It allows user to connect to database with a
standard way, socket or ssh. We noticed spinning beachballs while the network
connection is lost and Sequel Pro tried to reconnect. In the worst case, work in
other tabs get lost if the reconnection fails.

We simulate the unstable network environment by randomly disabled the network
for 1 second, and collect data covering the case that network reconnection
successes quickly and the one that Sequel Pro losts connection for a while. 2G
tracing data are stored and the graph we generated contains 3,650,832 edges
and 2,412,236 vertexes.

Argus starts analysis from the spinning node in NSEvent thread of Sequel Pro
and finds the corresponding node in its main UI thead. We notice that the main
UI thread gets stuck on the API and go to search a normal node. With the normal
node, Argus figures out the node that wakes up the waiting API in the normal
case, and slices path backwards from there. Argus carries out the comparison
of the nodes in the thread before the normal node gets waken and before the
spinning beachball shows up. The close examination tells that the main thread
is waiting for the kernel thread, which in turn waits for the ssh thread. Such
result could hardly figure out by lldb or spindump as both of them only focus
on the callstack snapshot for each process, instead of providing the connections
based the execution history system wide.
